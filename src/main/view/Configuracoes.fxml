<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<ScrollPane fitToHeight="true" fitToWidth="true" style="-fx-background: #f5f7fa;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="main.controllers.ConfiguracoesController">
    <VBox spacing="15.0" style="-fx-background-color: #f5f7fa;">
        <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
        </padding>

        <!-- TÃ­tulo -->
        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <ImageView fitHeight="22.0" fitWidth="22.0" preserveRatio="true">
                <Image url="@../resources/svg/gear-solid-full.png" />
            </ImageView>
            <Text fill="#2c5282" strokeType="OUTSIDE" strokeWidth="0.0" text="ConfiguraÃ§Ãµes do Sistema">
                <font>
                    <Font name="Segoe UI" size="18.0" />
                </font>
            </Text>
        </HBox>

        <!-- Container Principal -->
        <VBox spacing="20.0" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-width: 1;">
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
            </padding>

            <!-- InformaÃ§Ãµes da Empresa -->
            <VBox spacing="12.0">
                <Label style="-fx-text-fill: #2c5282;" text="InformaÃ§Ãµes da Empresa">
                    <font>
                        <Font name="Segoe UI Semibold" size="14.0" />
                    </font>
                </Label>

                <HBox spacing="15.0">
                    <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                        <Label style="-fx-text-fill: #666;" text="Nome da Empresa:">
                            <font>
                                <Font name="Segoe UI" size="11.0" />
                            </font>
                        </Label>
                        <TextField fx:id="txtNomeEmpresa" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-width: 1; -fx-padding: 6;" />
                    </VBox>

                    <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                        <Label style="-fx-text-fill: #666;" text="CNPJ:">
                            <font>
                                <Font name="Segoe UI" size="11.0" />
                            </font>
                        </Label>
                        <TextField fx:id="txtCnpj" editable="false" style="-fx-background-color: #f5f5f5; -fx-border-color: #d0d0d0; -fx-border-width: 1; -fx-padding: 6;" />
                    </VBox>
                </HBox>

                <VBox spacing="5.0">
                    <Label style="-fx-text-fill: #666;" text="EndereÃ§o:">
                        <font>
                            <Font name="Segoe UI" size="11.0" />
                        </font>
                    </Label>
                    <TextField fx:id="txtEndereco" editable="false" style="-fx-background-color: #f5f5f5; -fx-border-color: #d0d0d0; -fx-border-width: 1; -fx-padding: 6;" />
                </VBox>
            </VBox>

            <Separator prefWidth="200.0" />

            <!-- HorÃ¡rio de Funcionamento -->
            <VBox spacing="12.0">
                <Label style="-fx-text-fill: #2c5282;" text="HorÃ¡rio de Funcionamento">
                    <font>
                        <Font name="Segoe UI Semibold" size="14.0" />
                    </font>
                </Label>

                <HBox spacing="15.0">
                    <VBox spacing="5.0">
                        <Label style="-fx-text-fill: #666;" text="HorÃ¡rio de Abertura:">
                            <font>
                                <Font name="Segoe UI" size="11.0" />
                            </font>
                        </Label>
                        <TextField fx:id="txtHorarioAbertura" prefWidth="100.0" promptText="08:00" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-width: 1; -fx-padding: 6;" />
                    </VBox>

                    <VBox spacing="5.0">
                        <Label style="-fx-text-fill: #666;" text="HorÃ¡rio de Fechamento:">
                            <font>
                                <Font name="Segoe UI" size="11.0" />
                            </font>
                        </Label>
                        <TextField fx:id="txtHorarioFechamento" prefWidth="100.0" promptText="18:00" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-width: 1; -fx-padding: 6;" />
                    </VBox>
                </HBox>

                <CheckBox fx:id="chkFuncionaFds" mnemonicParsing="false" style="-fx-text-fill: #666;" text="Funciona aos finais de semana">
                    <font>
                        <Font name="Segoe UI" size="11.0" />
                    </font>
                </CheckBox>

                <CheckBox fx:id="chkBloquearSistemaForaHorario" mnemonicParsing="false" style="-fx-text-fill: #666;" text="Bloquear acesso ao sistema fora do horÃ¡rio de funcionamento">
                    <font>
                        <Font name="Segoe UI" size="11.0" />
                    </font>
                </CheckBox>

                <Button fx:id="btnTestarBloqueio" mnemonicParsing="false" onAction="#handleTestarBloqueio" prefHeight="32.0" prefWidth="200.0" style="-fx-background-color: #5a9fd4; -fx-text-fill: white; -fx-cursor: hand; -fx-font-size: 11;">
                    <graphic>
                        <HBox alignment="CENTER" spacing="6.0">
                            <ImageView fitHeight="14.0" fitWidth="14.0" preserveRatio="true" style="-fx-effect: innershadow( gaussian , #F2F5F5, 30, 0.8 , 0 , 0 );">
                                <Image url="@../resources/svg/lock-solid-full.png" />
                            </ImageView>
                            <Label style="-fx-text-fill: white;" text="Testar Bloqueio de HorÃ¡rio" />
                        </HBox>
                    </graphic>
                </Button>

                <HBox alignment="CENTER_LEFT" spacing="6.0">
                    <ImageView fitHeight="12.0" fitWidth="12.0" preserveRatio="true">
                        <Image url="@../resources/svg/check-solid-full.png" />
                    </ImageView>
                    <Text fill="#2e7d32" text="ConfiguraÃ§Ãµes de horÃ¡rio sÃ£o salvas localmente e funcionam imediatamente">
                        <font>
                            <Font name="Segoe UI" size="10.0" />
                        </font>
                    </Text>
                </HBox>
            </VBox>

            <Separator prefWidth="200.0" />

            <!-- NÃ­vel de PermissÃ£o -->
            <VBox spacing="12.0">
                <Label style="-fx-text-fill: #2c5282;" text="NÃ­vel de PermissÃ£o">
                    <font>
                        <Font name="Segoe UI Semibold" size="14.0" />
                    </font>
                </Label>

                <VBox spacing="5.0">
                    <Label style="-fx-text-fill: #666;" text="NÃ­vel de permissÃ£o do usuÃ¡rio atual:">
                        <font>
                            <Font name="Segoe UI" size="11.0" />
                        </font>
                    </Label>
                    <ComboBox fx:id="cbNivelPermissao" prefWidth="200.0" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-width: 1;" />
                </VBox>

                <HBox alignment="CENTER_LEFT" spacing="6.0">
                    <ImageView fitHeight="12.0" fitWidth="12.0" preserveRatio="true">
                        <Image url="@../resources/svg/check-solid-full.png" />
                    </ImageView>
                    <Text fill="#2e7d32" text="O nÃ­vel de permissÃ£o serÃ¡ salvo no banco de dados (tabela: licencas)">
                        <font>
                            <Font name="Segoe UI" size="10.0" />
                        </font>
                    </Text>
                </HBox>
            </VBox>

            <Separator prefWidth="200.0" />

            <!-- Backup e SeguranÃ§a -->
            <VBox spacing="12.0">
                <Label style="-fx-text-fill: #2c5282;" text="Backup e SeguranÃ§a">
                    <font>
                        <Font name="Segoe UI Semibold" size="14.0" />
                    </font>
                </Label>

                <HBox spacing="10.0">
                    <Button fx:id="btnFazerBackup" mnemonicParsing="false" onAction="#handleFazerBackup" prefHeight="32.0" prefWidth="160.0" style="-fx-background-color: #5a9fd4; -fx-text-fill: white; -fx-cursor: hand; -fx-font-size: 11;">
                        <graphic>
                            <HBox alignment="CENTER" spacing="6.0">
                                <ImageView fitHeight="14.0" fitWidth="14.0" preserveRatio="true">
                                    <Image url="@../resources/svg/refresh.png" />
                                </ImageView>
                                <Label style="-fx-text-fill: white;" text="Fazer Backup" />
                            </HBox>
                        </graphic>
                    </Button>
                    <Button fx:id="btnRestaurarBackup" mnemonicParsing="false" onAction="#handleRestaurarBackup" prefHeight="32.0" prefWidth="160.0" style="-fx-background-color: #ff9800; -fx-text-fill: white; -fx-cursor: hand; -fx-font-size: 11;">
                        <graphic>
                            <HBox alignment="CENTER" spacing="6.0">
                                <ImageView fitHeight="14.0" fitWidth="14.0" preserveRatio="true" style="-fx-effect: innershadow( gaussian , #F2F5F5, 30, 0.8 , 0 , 0 );">
                                    <Image url="@../resources/svg/triangle-exclamation-solid-full.png" />
                                </ImageView>
                                <Label style="-fx-text-fill: white;" text="Restaurar Backup" />
                            </HBox>
                        </graphic>
                    </Button>
                </HBox>

                <Text fill="#666" text="ðŸ’¡ Dica: FaÃ§a backups regularmente para proteger seus dados!">
                    <font>
                        <Font name="Segoe UI" size="10.0" />
                    </font>
                </Text>
            </VBox>
        </VBox>

        <!-- BotÃµes de AÃ§Ã£o -->
        <HBox alignment="CENTER_RIGHT" spacing="10.0" style="-fx-background-color: white; -fx-padding: 15; -fx-border-color: #d0d0d0; -fx-border-width: 1 0 0 0;">
            <Button fx:id="btnSalvarConfiguracoes" mnemonicParsing="false" onAction="#handleSalvarConfiguracoes" prefHeight="36.0" prefWidth="180.0" style="-fx-background-color: #7cb342; -fx-text-fill: white; -fx-cursor: hand; -fx-font-size: 12;">
                <graphic>
                    <HBox alignment="CENTER" spacing="6.0">
                        <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                            <Image url="@../resources/svg/check-solid-full.png" />
                        </ImageView>
                        <Label style="-fx-text-fill: white;" text="Salvar ConfiguraÃ§Ãµes" />
                    </HBox>
                </graphic>
            </Button>
            <Button fx:id="btnCancelar" mnemonicParsing="false" onAction="#handleCancelar" prefHeight="36.0" prefWidth="100.0" style="-fx-background-color: #999; -fx-text-fill: white; -fx-cursor: hand; -fx-font-size: 12;">
                <graphic>
                    <HBox alignment="CENTER" spacing="6.0">
                        <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                            <Image url="@../resources/svg/x-solid-full.png" />
                        </ImageView>
                        <Label style="-fx-text-fill: white;" text="Cancelar" />
                    </HBox>
                </graphic>
            </Button>
        </HBox>
    </VBox>
</ScrollPane>
